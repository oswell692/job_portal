<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>{% if edit %}Edit{% else %}Add{% endif %} Job - MyScape Hub</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      background-color: #f5f6f8;
      font-family: 'Segoe UI', sans-serif;
      padding: 40px 20px;
    }
    .form-container {
      max-width: 850px;
      margin: auto;
      background-color: #fff;
      padding: 30px 40px;
      border-radius: 12px;
      box-shadow: 0 0 15px rgba(0,0,0,0.05);
    }
    .form-title {
      color: #003366;
      font-weight: bold;
      margin-bottom: 25px;
      text-align: center;
    }
    label {
      margin-top: 16px;
      font-weight: 500;
    }
    input, textarea {
      margin-top: 6px;
    }
    button {
      margin-top: 30px;
      background-color: #003366;
      border: none;
    }
    button:hover {
      background-color: #002244;
    }
    .back-link {
      display: inline-block;
      margin-bottom: 20px;
      font-weight: 500;
      color: #003366;
      text-decoration: none;
    }
    .back-link:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>

  <div class="form-container">
    <a href="{{ url_for('admin_dashboard') }}" class="back-link">&larr; Back </a>

    <h2 class="form-title">{% if edit %}Edit{% else %}Add{% endif %} Job Advert</h2>

    <form method="POST" enctype="multipart/form-data">
      <div class="mb-3">
        <label for="title">Job Title:</label>
        <input class="form-control" name="title" id="title" value="{{ job.title if edit else '' }}" required>
      </div>

      <div class="mb-3">
        <label for="company_name">Company Name:</label>
        <textarea class="form-control" name="company_name" id="company_name" rows="1" required>{{ job.company_name if edit else '' }}</textarea>
      </div>

      <div class="mb-3">
        <label for="logo" class="form-label">Company Logo</label>
        <input type="file" class="form-control" id="logo" name="logo" accept="image/*">
      </div>


      <div class="mb-3">
        <label for="position">Position:</label>
        <input class="form-control" name="position" id="position" value="{{ job.position if edit else '' }}" required>
      </div>

      <div class="mb-3">
        <label for="location">Location:</label>
        <input class="form-control" name="location" id="location" value="{{ job.location if edit else '' }}" required>
      </div>

      <div class="mb-3">
  <label for="job_type">Job Type:</label>
  <select class="form-select" name="job_type" id="job_type" required>
    <option value="Consultant" {% if edit and job.job_type=='Consultant' %}selected{% endif %}>Consultant</option>
    <option value="Contract" {% if edit and job.job_type=='Contract' %}selected{% endif %}>Contract</option>
    <option value="Freelance" {% if edit and job.job_type=='Freelance' %}selected{% endif %}>Freelance</option>
    <option value="Full Time" {% if edit and job.job_type=='Full Time' %}selected{% endif %}>Full Time</option>
    <option value="Internship" {% if edit and job.job_type=='Internship' %}selected{% endif %}>Internship</option>
    <option value="Part Time" {% if edit and job.job_type=='Part Time' %}selected{% endif %}>Part Time</option>
    <option value="Short-Term" {% if edit and job.job_type=='Short-Term' %}selected{% endif %}>Short-Term</option>
    <option value="Temporary" {% if edit and job.job_type=='Temporary' %}selected{% endif %}>Temporary</option>
    <option value="Volunteer" {% if edit and job.job_type=='Volunteer' %}selected{% endif %}>Volunteer</option>
  </select>
</div>


      <div class="mb-3">
        <label for="deadline">Deadline:</label>
        <input class="form-control" type="date" name="deadline" id="deadline" value="{{ job.deadline.strftime('%Y-%m-%d') if edit else '' }}" required>
      </div>

      <div class="mb-3">
        <label for="intro">Introduction Paragraph:</label>
        <textarea class="form-control" name="intro" id="intro" rows="3" required>{{ job.intro if edit else '' }}</textarea>
      </div>

      <div class="mb-3">
        <label for="responsibilities">Responsibilities (one per line):</label>
        <textarea class="form-control" name="responsibilities" id="responsibilities" rows="4" required>{{ job.responsibilities if edit else '' }}</textarea>
      </div>

      <div class="mb-3">
        <label for="candidate_profile">Candidate Profile (one per line):</label>
        <textarea class="form-control" name="candidate_profile" id="candidate_profile" rows="4" required>{{ job.candidate_profile if edit else '' }}</textarea>
      </div>

      <div class="mb-3">
        <label for="qualifications">Qualifications:</label>
        <textarea class="form-control" name="qualifications" id="qualifications" rows="3" required>{{ job.qualifications if edit else '' }}</textarea>
      </div>

      <div class="mb-3">
        <label for="whats_on_offer">Whatâ€™s on Offer (one per line):</label>
        <textarea class="form-control" name="whats_on_offer" id="whats_on_offer" rows="3" required>{{ job.whats_on_offer if edit else '' }}</textarea>
      </div>

      <div class="mb-3">
  <label for="apply_link">Application Link:</label>
  <input class="form-control" name="apply_link" id="apply_link" type="url" value="{{ job.apply_link if edit else '' }}">
</div>

<div class="mb-3">
  <label for="application_email">Application Email:</label>
  <textarea class="form-control" name="application_email" id="application_email" rows="1">{{ job.application_email if edit else '' }}</textarea>
</div>

<!-- Optional: place this at the bottom of your form -->
<script>
document.querySelector('form').addEventListener('submit', function(e) {
  const link = document.getElementById('apply_link').value.trim();
  const email = document.getElementById('application_email').value.trim();

  if (!link && !email) {
    e.preventDefault(); // stop form submission
    alert('Please provide at least an Application Link or an Application Email.');
  }
});
</script>


      <button class="btn btn-primary w-100" type="submit">{% if edit %}Update Job{% else %}Post Job{% endif %}</button>
    </form>
  </div>

  

</body>
</html>
